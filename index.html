<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Block Runner Pro</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
  body {
    background: #111;
    color: white;
    font-family: Arial, sans-serif;
    text-align: center;
    margin: 0;
    padding: 0;
  }

  h1 {
    margin-top: 10px;
  }

  canvas {
    background: #222;
    display: block;
    margin: 10px auto;
    border: 2px solid #0a58ca;
  }

  button {
    padding: 12px 18px;
    margin: 6px;
    font-size: 16px;
    font-weight: bold;
    cursor: pointer;
  }

  footer {
    margin-top: 10px;
    font-size: 14px;
    opacity: 0.7;
  }
</style>
</head>

<body>

<h1>üèÉ Block Runner Pro</h1>

<canvas id="game" width="400" height="200"></canvas>

<button ontouchstart="saltar()" onclick="saltar()">‚¨ÜÔ∏è Saltar</button>
<button ontouchstart="reiniciar()" onclick="reiniciar()">üîÑ Reiniciar</button>

<footer>
  echo por Luis Mario
</footer>

<script>
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");

let jugador, obstaculo, puntos, gameOver;
let ultimoTiempo = 0;

function iniciarJuego() {
  jugador = { x: 50, y: 150, w: 20, h: 20, v: 0 };
  obstaculo = { x: 400, y: 160, w: 20, h: 40 };
  puntos = 0;
  gameOver = false;
  ultimoTiempo = 0;
  requestAnimationFrame(gameLoop);
}

function saltar() {
  if (jugador.v === 0 && !gameOver) {
    jugador.v = -16;
  }
}

function reiniciar() {
  iniciarJuego();
}

function actualizar() {
  // gravedad
  jugador.v += 0.9;
  jugador.y += jugador.v;

  if (jugador.y >= 150) {
    jugador.y = 150;
    jugador.v = 0;
  }

  // obst√°culo
  obstaculo.x -= 6;
  if (obstaculo.x < -20) {
    obstaculo.x = 400;
    puntos++;
  }

  // colisi√≥n
  if (
    jugador.x < obstaculo.x + obstaculo.w &&
    jugador.x + jugador.w > obstaculo.x &&
    jugador.y < obstaculo.y + obstaculo.h &&
    jugador.y + jugador.h > obstaculo.y
  ) {
    gameOver = true;
    alert("üíÄ Perdiste | Puntos: " + puntos);
  }
}

function dibujar() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);

  // jugador
  ctx.fillStyle = "white";
  ctx.fillRect(jugador.x, jugador.y, jugador.w, jugador.h);

  // obst√°culo
  ctx.fillStyle = "cyan";
  ctx.fillRect(obstaculo.x, obstaculo.y, obstaculo.w, obstaculo.h);

  // puntos
  ctx.fillStyle = "white";
  ctx.font = "14px Arial";
  ctx.fillText("Puntos: " + puntos, 10, 20);
}

function gameLoop(tiempo) {
  if (!gameOver) {
    actualizar();
    dibujar();
    requestAnimationFrame(gameLoop);
  }
}

iniciarJuego();
</script>

</body>
</html>
